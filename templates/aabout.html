{% extends 'layout.html' %}
    {% block extra_head %}
    <style>
        .nav-pills>li>a.side {
            margin-left:-58px;
            margin-right:0px;
            width:100px;
        }
    </style>
    {% endblock extra_head %}
    {% block header %}
        {% include 'header.html' with context %}
    {% endblock header %}
    {% block content %}


<a id="addInput" class="btn btn-default">edit page</a>

<div id="addItem">
    {% if content %}
        {{ content|markdown }}
    {% else %}
    <p>Test text</p>
    <p>were pretending threre is text here</p>
    {% endif %}
</div>
    {% endblock content %}
    {% block footer_js %}
    {{ super()|safe }}
    <script type="text/javascript">
        $(document).on("click","#addInput",function(){
            var txtDiv = $("#addItem");
            var txt = txtDiv.text();
            txtDiv.text("");
            var outside =
                $("<div>").addClass("input-group")
                    .html($("<div>").addClass("row")
                        .html($("<div>").addClass("col-md-12")
                            .html($("<div>").addClass("form-group")
                                .html($("<form>").attr("method","post")
                                    .html($("<textarea>").attr("rows",5).text(txt)
                                    .attr("id","content").attr("name","content")
                                    .addClass("form-control"))
                                        .append($("<button>")
                                            .addClass("btn btn-info")
                                            .text("Submit"))
                                        .append($("<button>")
                                            .addClass("btn btn-warning")
                                            .text("Reset"))
                                        .append($("<button>")
                                            .addClass("btn btn-danger")
                                            .text("Cancel")
                                            )
                                        )   
                                    )
                                )
                            
                        );        
            $("#addItem").append(outside);
            tinymce.init({
                selector: "textarea"
                });
            });
</script>

{% endblock footer_js %}
